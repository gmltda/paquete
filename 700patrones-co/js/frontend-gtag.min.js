var ExactMetrics=function(){var e=[],t="",n=!1;function a(){return!!window.exactmetrics_debug_mode}function o(t,n,a,o){t=void 0!==t?t:"event",n=void 0!==n?n:"",o=void 0!==o?o:[],a=void 0!==a?a:{},__gtagTracker(t,n,a),e.valuesArray=o,e.fieldsArray=a,e.fieldsArray.event_action=n,e.tracked=!0,i("Tracked: "+o.type),i(e)}function r(t){t=void 0!==t?t:[],e.valuesArray=t,e.fieldsArray=[],e.tracked=!1,i("Not Tracked: "+t.exit),i(e)}function i(e){a()&&console.dir(e)}function l(e){return e.replace(/^\s+|\s+$/gm,"")}function c(){for(var e=0,t=document.domain,n=t.split("."),a="_gd"+(new Date).getTime();e<n.length-1&&-1==document.cookie.indexOf(a+"="+a);)t=n.slice(-1-++e).join("."),document.cookie=a+"="+a+";domain="+t+";";return document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}function s(e){return(e=(e=(e=(e=e.toString()).substring(0,-1==e.indexOf("#")?e.length:e.indexOf("#"))).substring(0,-1==e.indexOf("?")?e.length:e.indexOf("?"))).substring(e.lastIndexOf("/")+1,e.length)).length>0&&-1!==e.indexOf(".")?e=e.substring(e.indexOf(".")+1):""}function u(){var e=[];return"string"==typeof exactmetrics_frontend.download_extensions&&(e=exactmetrics_frontend.download_extensions.split(",")),e}function d(){var e=[];return"string"==typeof exactmetrics_frontend.inbound_paths&&(e=JSON.parse(exactmetrics_frontend.inbound_paths)),e}function h(e){var n=u(),a=d(),o="unknown",r=e.href,i=s(e.href),h=c(),f=e.hostname,g=e.protocol,v=e.pathname;r=r.toString();var p,m,b=e.getAttribute("data-vars-ga-category");if(b)return b;if(r.match(/^javascript\:/i))o="internal";else if(g&&g.length>0&&("tel"==l(g)||"tel:"==l(g)))o="tel";else if(g&&g.length>0&&("mailto"==l(g)||"mailto:"==l(g)))o="mailto";else if(f&&h&&f.length>0&&h.length>0&&!f.endsWith("."+h)&&f!==h)o="external";else if(v&&"{}"!=JSON.stringify(a)&&v.length>0){for(var _=a.length,y=0;y<_;y++)if(a[y].path&&a[y].label&&a[y].path.length>0&&a[y].label.length>0&&v.startsWith(a[y].path)){o="internal-as-outbound",t="outbound-link-"+a[y].label;break}}else f&&window.exactmetrics_experimental_mode&&f.length>0&&document.domain.length>0&&f!==document.domain&&(o="cross-hostname");if(i&&("unknown"===o||"external"===o)&&n.length>0&&i.length>0)for(p=0,m=n.length;p<m;++p)if(n[p].length>0&&(r.endsWith(n[p])||n[p]==i)){o="download";break}return"unknown"===o&&(o="internal"),o}function f(e){return e.getAttribute("data-vars-ga-label")&&e.getAttribute("data-vars-ga-label").replace(/\n/gi,"")?e.getAttribute("data-vars-ga-label").replace(/\n/gi,""):e.title&&e.title.replace(/\n/gi,"")?e.title.replace(/\n/gi,""):e.innerText&&e.innerText.replace(/\n/gi,"")?e.innerText.replace(/\n/gi,""):e.getAttribute("aria-label")&&e.getAttribute("aria-label").replace(/\n/gi,"")?e.getAttribute("aria-label").replace(/\n/gi,""):e.alt&&e.alt.replace(/\n/gi,"")?e.alt.replace(/\n/gi,""):e.textContent&&e.textContent.replace(/\n/gi,"")?e.textContent.replace(/\n/gi,""):void 0}function g(e){var i,l=e.srcElement||e.target,g=[];if(g.el=l,g.click_type=function(e){return 1==e.which?"event.which=1":2==e.which?"event.which=2":e.metaKey?"metaKey":e.ctrlKey?"ctrlKey":e.shiftKey?"shiftKey":e.altKey?"altKey":""}(e),"undefined"==typeof __gtagTracker||!function(e){return 1==e.which||2==e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey}(e))return g.exit="loaded",void r(g);for(;l&&(void 0===l.tagName||"a"!=l.tagName.toLowerCase()||!l.href);)l=l.parentNode;if(l&&l.href&&!l.hasAttribute("xlink:href")){var v=l.href,p=s(l.href),b=u(),_=d(),y=exactmetrics_frontend.home_url,x=(c(),h(l)),w=function(e,t){var n=!(!e.target||e.target.match(/^_(self|parent|top)$/i))&&e.target;return(t.ctrlKey||t.shiftKey||t.metaKey||2==t.which)&&(n="_blank"),n}(l,e),k=l.getAttribute("data-vars-ga-action"),A=l.getAttribute("data-vars-ga-label");if(g.el=l,g.el_href=l.href,g.el_protocol=l.protocol,g.el_hostname=l.hostname,g.el_port=l.port,g.el_pathname=l.pathname,g.el_search=l.search,g.el_hash=l.hash,g.el_host=l.host,g.debug_mode=a(),g.download_extensions=b,g.inbound_paths=_,g.home_url=y,g.link=v,g.extension=p,g.type=x,g.target=w,g.title=f(l),g.label||g.title||(g.title=function(e){for(var t,n=e.children,a=0,o=0;o<n.length;o++){if(t=f(n[o]))return t;if(99==a)return;a++}}(l)),"internal"!==x&&"javascript"!==x){var T=!1,O=function(){T||(m(),T=!0,window.location.href=v)};w||"mailto"==x||"tel"==x?("download"==x?i={event_category:"download",event_label:A||g.title}:"tel"==x?i={event_category:"tel",event_label:A||g.title.replace("tel:","")}:"mailto"==x?(console.log(A||g.title.replace("mailto:","")),i={event_category:"mailto",event_label:A||g.title.replace("mailto:","")}):"internal-as-outbound"==x?i={event_category:t,event_label:A||g.title}:"external"==x?i={event_category:"outbound-link",event_label:A||g.title}:"cross-hostname"==x&&(i={event_category:"cross-hostname",event_label:A||g.title}),i?o("event",k||v,i,g):x&&"internal"!=x?(i={event_category:x,event_label:A||g.title},o("event",k||v,i,g)):(g.exit="type",r(g))):("cross-hostname"!=x&&"external"!=x&&"internal-as-outbound"!=x&&(e.defaultPrevented||(e.preventDefault?e.preventDefault():e.returnValue=!1)),"download"==x?(i={event_category:"download",event_label:A||g.title,event_callback:O},o("event",k||v,i,g)):"internal-as-outbound"==x?(n=!0,window.onbeforeunload=function(n){e.defaultPrevented||(e.preventDefault?e.preventDefault():e.returnValue=!1),i={event_category:t,event_label:A||g.title,event_callback:O},navigator.sendBeacon&&(i.transport="beacon"),o("event",k||v,i,g),setTimeout(O,1e3)}):"external"==x?(n=!0,window.onbeforeunload=function(t){e.defaultPrevented||(e.preventDefault?e.preventDefault():e.returnValue=!1),i={event_category:"outbound-link",event_label:A||g.title,event_callback:O},navigator.sendBeacon&&(i.transport="beacon"),o("event",k||v,i,g),setTimeout(O,1e3)}):"cross-hostname"==x?(n=!0,window.onbeforeunload=function(t){e.defaultPrevented||(e.preventDefault?e.preventDefault():e.returnValue=!1),i={event_category:"cross-hostname",event_label:A||g.title,event_callback:O},navigator.sendBeacon&&(i.transport="beacon"),o("event",k||v,i,g),setTimeout(O,1e3)}):x&&"internal"!==x?(i={event_category:x,event_label:A||g.title,event_callback:O},o("event",k||v,i,g)):(g.exit="type",r(g)),"external"!=x&&"cross-hostname"!=x&&"internal-as-outbound"!=x?setTimeout(O,1e3):"external"==x?setTimeout((function(){g.exit="external",r(g)}),1100):"cross-hostname"==x?setTimeout((function(){g.exit="cross-hostname",r(g)}),1100):setTimeout((function(){g.exit="internal-as-outbound",r(g)}),1100),setTimeout(m,100))}else m(),g.exit="internal",r(g)}else g.exit="notlink",r(g)}this.setLastClicked=function(t,n,a){t=void 0!==t?t:[],n=void 0!==n?n:[],a=void 0!==a&&a,e.valuesArray=t,e.fieldsArray=n},this.getLastClicked=function(){return e},this.setInternalAsOutboundCategory=function(e){t=e},this.getInternalAsOutboundCategory=function(){return t},this.sendEvent=function(e,t,n){o(e,t,n,[])};var v=window.location.hash;function p(){"true"===exactmetrics_frontend.hash_tracking&&v!=window.location.hash&&exactmetrics_frontend.ua?(v=window.location.hash,__gtagTracker("config",exactmetrics_frontend.ua,{page_path:location.pathname+location.search+location.hash}),i("Hash change to: "+location.pathname+location.search+location.hash)):i("Hash change to (untracked): "+location.pathname+location.search+location.hash)}function m(){n&&(window.onbeforeunload=null)}var b=window;b.addEventListener?(b.addEventListener("load",(function(){document.body.addEventListener("click",g,!1)}),!1),window.addEventListener("hashchange",p,!1)):b.attachEvent&&(b.attachEvent("onload",(function(){document.body.attachEvent("onclick",g)})),window.attachEvent("onhashchange",p)),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return 0===this.indexOf(e)}),"function"!=typeof Array.prototype.lastIndexOf&&(Array.prototype.lastIndexOf=function(e){"use strict";if(null==this)throw new TypeError;var t,n,a=Object(this),o=a.length>>>0;if(0===o)return-1;for(t=o-1,arguments.length>1&&((t=Number(arguments[1]))!=t?t=0:0!=t&&t!=1/0&&t!=-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),n=t>=0?Math.min(t,o-1):o-Math.abs(t);n>=0;n--)if(n in a&&a[n]===e)return n;return-1})},ExactMetricsObject=new ExactMetrics;